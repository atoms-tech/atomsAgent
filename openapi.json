{
  "openapi": "3.0.3",
  "info": {
    "title": "AgentAPI with atomsAgent",
    "description": "HTTP API for Claude Code, Goose, Aider, and atomsAgent chat server.\n\nhttps://github.com/coder/agentapi",
    "version": "0.10.0"
  },
  "paths": {
    "/events": {
      "get": {
        "description": "The events are sent as Server-Sent Events (SSE). Initially, the endpoint returns a list of events needed to reconstruct the current state of the conversation and the agent's status. After that, it only returns events that have occurred since the last event was sent.\n\nNote: When an agent is running, the last message in the conversation history is updated frequently, and the endpoint sends a new message update event each time.",
        "operationId": "subscribeEvents",
        "responses": {
          "200": {
            "content": {
              "text/event-stream": {
                "schema": {
                  "description": "Each oneOf object in the array represents one possible Server Sent Events (SSE) message, serialized as UTF-8 text according to the SSE specification.",
                  "items": {
                    "oneOf": [
                      {
                        "properties": {
                          "data": {
                            "$ref": "#/components/schemas/MessageUpdateBody"
                          },
                          "event": {
                            "const": "message_update",
                            "description": "The event name.",
                            "type": "string"
                          },
                          "id": {
                            "description": "The event ID.",
                            "type": "integer"
                          },
                          "retry": {
                            "description": "The retry time in milliseconds.",
                            "type": "integer"
                          }
                        },
                        "required": [
                          "data",
                          "event"
                        ],
                        "title": "Event message_update",
                        "type": "object"
                      },
                      {
                        "properties": {
                          "data": {
                            "$ref": "#/components/schemas/StatusChangeBody"
                          },
                          "event": {
                            "const": "status_change",
                            "description": "The event name.",
                            "type": "string"
                          },
                          "id": {
                            "description": "The event ID.",
                            "type": "integer"
                          },
                          "retry": {
                            "description": "The retry time in milliseconds.",
                            "type": "integer"
                          }
                        },
                        "required": [
                          "data",
                          "event"
                        ],
                        "title": "Event status_change",
                        "type": "object"
                      }
                    ]
                  },
                  "title": "Server Sent Events",
                  "type": "array"
                }
              }
            },
            "description": "OK"
          },
          "default": {
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Error"
          }
        },
        "summary": "Subscribe to events"
      }
    },
    "/message": {
      "post": {
        "description": "Send a message to the agent. For messages of type 'user', the agent's status must be 'stable' for the operation to complete successfully. Otherwise, this endpoint will return an error.",
        "operationId": "post-message",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageRequestBody",
                "description": "Message content and type"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageResponseBody"
                }
              }
            },
            "description": "OK"
          },
          "default": {
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Error"
          }
        },
        "summary": "Post message"
      }
    },
    "/messages": {
      "get": {
        "description": "Returns a list of messages representing the conversation history with the agent.",
        "operationId": "get-messages",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessagesResponseBody"
                }
              }
            },
            "description": "OK"
          },
          "default": {
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Error"
          }
        },
        "summary": "Get messages"
      }
    },
    "/status": {
      "get": {
        "description": "Returns the current status of the agent.",
        "operationId": "get-status",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusResponseBody"
                }
              }
            },
            "description": "OK"
          },
          "default": {
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Error"
          }
        },
        "summary": "Get status"
      }
    },
    "/upload": {
      "post": {
        "description": "Upload files to the specified upload path.",
        "operationId": "post-upload",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "encoding": {
                "file": {
                  "contentType": "application/octet-stream"
                }
              },
              "schema": {
                "properties": {
                  "file": {
                    "contentEncoding": "binary",
                    "contentMediaType": "application/octet-stream",
                    "description": "file that needs to be uploaded",
                    "format": "binary",
                    "type": "string"
                  }
                },
                "required": [
                  "file"
                ],
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadResponseBody"
                }
              }
            },
            "description": "OK"
          },
          "default": {
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            },
            "description": "Error"
          }
        },
        "summary": "Post upload"
      }
    },
    "/v1/chat/completions": {
      "post": {
        "tags": [
          "openai"
        ],
        "summary": "Create Chat Completion",
        "operationId": "create_chat_completion_v1_chat_completions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/models": {
      "get": {
        "tags": [
          "openai"
        ],
        "summary": "List Models",
        "operationId": "list_models_v1_models_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/atoms/chat/sessions": {
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "List Chat Sessions",
        "operationId": "list_chat_sessions_atoms_chat_sessions_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "User identifier",
              "title": "User Id"
            },
            "description": "User identifier"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Page Size"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatSessionListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/atoms/chat/sessions/{session_id}": {
      "get": {
        "tags": [
          "chat"
        ],
        "summary": "Get Chat Session",
        "operationId": "get_chat_session_atoms_chat_sessions__session_id__get",
        "parameters": [
          {
            "name": "session_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Session Id"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "User identifier",
              "title": "User Id"
            },
            "description": "User identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatSessionDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/atoms/mcp": {
      "get": {
        "tags": [
          "mcp"
        ],
        "summary": "List Mcp Servers",
        "operationId": "list_mcp_servers_atoms_mcp_get",
        "parameters": [
          {
            "name": "organization_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "Organization context",
              "title": "Organization Id"
            },
            "description": "Organization context"
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ],
              "description": "User context if applicable",
              "title": "User Id"
            },
            "description": "User context if applicable"
          },
          {
            "name": "include_platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include platform-level MCPs",
              "default": true,
              "title": "Include Platform"
            },
            "description": "Include platform-level MCPs"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "mcp"
        ],
        "summary": "Create Mcp Server",
        "operationId": "create_mcp_server_atoms_mcp_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MCPCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPConfiguration"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/atoms/mcp/{mcp_id}": {
      "put": {
        "tags": [
          "mcp"
        ],
        "summary": "Update Mcp Server",
        "operationId": "update_mcp_server_atoms_mcp__mcp_id__put",
        "parameters": [
          {
            "name": "mcp_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "description": "MCP configuration identifier",
              "title": "Mcp Id"
            },
            "description": "MCP configuration identifier"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MCPUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MCPConfiguration"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "mcp"
        ],
        "summary": "Delete Mcp Server",
        "operationId": "delete_mcp_server_atoms_mcp__mcp_id__delete",
        "parameters": [
          {
            "name": "mcp_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Mcp Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/platform/stats": {
      "get": {
        "tags": [
          "platform"
        ],
        "summary": "Get Platform Stats",
        "operationId": "get_platform_stats_api_v1_platform_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlatformStats"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/platform/admins": {
      "get": {
        "tags": [
          "platform"
        ],
        "summary": "List Platform Admins",
        "operationId": "list_platform_admins_api_v1_platform_admins_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "platform"
        ],
        "summary": "Create Platform Admin",
        "operationId": "create_platform_admin_api_v1_platform_admins_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddAdminRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/platform/admins/{email}": {
      "delete": {
        "tags": [
          "platform"
        ],
        "summary": "Delete Platform Admin",
        "operationId": "delete_platform_admin_api_v1_platform_admins__email__delete",
        "parameters": [
          {
            "name": "email",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Admin email",
              "title": "Email"
            },
            "description": "Admin email"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/platform/audit": {
      "get": {
        "tags": [
          "platform"
        ],
        "summary": "Get Audit Logs",
        "operationId": "get_audit_logs_api_v1_platform_audit_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditLogResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AgentStatus": {
        "enum": [
          "running",
          "stable"
        ],
        "example": "stable",
        "title": "AgentStatus",
        "type": "string"
      },
      "ConversationRole": {
        "enum": [
          "agent",
          "user"
        ],
        "example": "user",
        "title": "ConversationRole",
        "type": "string"
      },
      "ErrorDetail": {
        "additionalProperties": false,
        "properties": {
          "location": {
            "description": "Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'",
            "type": "string"
          },
          "message": {
            "description": "Error message text",
            "type": "string"
          },
          "value": {
            "description": "The value at the given location"
          }
        },
        "type": "object"
      },
      "ErrorModel": {
        "additionalProperties": false,
        "properties": {
          "$schema": {
            "description": "A URL to the JSON Schema for this object.",
            "example": "https://example.com/schemas/ErrorModel.json",
            "format": "uri",
            "readOnly": true,
            "type": "string"
          },
          "detail": {
            "description": "A human-readable explanation specific to this occurrence of the problem.",
            "example": "Property foo is required but is missing.",
            "type": "string"
          },
          "errors": {
            "description": "Optional list of individual error details",
            "items": {
              "$ref": "#/components/schemas/ErrorDetail"
            },
            "nullable": true,
            "type": "array"
          },
          "instance": {
            "description": "A URI reference that identifies the specific occurrence of the problem.",
            "example": "https://example.com/error-log/abc123",
            "format": "uri",
            "type": "string"
          },
          "status": {
            "description": "HTTP status code",
            "example": 400,
            "format": "int64",
            "type": "integer"
          },
          "title": {
            "description": "A short, human-readable summary of the problem type. This value should not change between occurrences of the error.",
            "example": "Bad Request",
            "type": "string"
          },
          "type": {
            "default": "about:blank",
            "description": "A URI reference to human-readable documentation for the error.",
            "example": "https://example.com/errors/example",
            "format": "uri",
            "type": "string"
          }
        },
        "type": "object"
      },
      "Message": {
        "additionalProperties": false,
        "properties": {
          "content": {
            "description": "Message content. The message is formatted as it appears in the agent's terminal session, meaning that, by default, it consists of lines of text with 80 characters per line.",
            "example": "Hello world",
            "type": "string"
          },
          "id": {
            "description": "Unique identifier for the message. This identifier also represents the order of the message in the conversation history.",
            "format": "int64",
            "type": "integer"
          },
          "role": {
            "$ref": "#/components/schemas/ConversationRole",
            "description": "Role of the message author"
          },
          "time": {
            "description": "Timestamp of the message",
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "content",
          "id",
          "role",
          "time"
        ],
        "type": "object"
      },
      "MessageRequestBody": {
        "additionalProperties": false,
        "properties": {
          "$schema": {
            "description": "A URL to the JSON Schema for this object.",
            "example": "https://example.com/schemas/MessageRequestBody.json",
            "format": "uri",
            "readOnly": true,
            "type": "string"
          },
          "content": {
            "description": "Message content",
            "example": "Hello, agent!",
            "type": "string"
          },
          "type": {
            "$ref": "#/components/schemas/MessageType",
            "description": "A 'user' type message will be logged as a user message in the conversation history and submitted to the agent. AgentAPI will wait until the agent starts carrying out the task described in the message before responding. A 'raw' type message will be written directly to the agent's terminal session as keystrokes and will not be saved in the conversation history. 'raw' messages are useful for sending escape sequences to the terminal."
          }
        },
        "required": [
          "content",
          "type"
        ],
        "type": "object"
      },
      "MessageResponseBody": {
        "additionalProperties": false,
        "properties": {
          "$schema": {
            "description": "A URL to the JSON Schema for this object.",
            "example": "https://example.com/schemas/MessageResponseBody.json",
            "format": "uri",
            "readOnly": true,
            "type": "string"
          },
          "ok": {
            "description": "Indicates whether the message was sent successfully. For messages of type 'user', success means detecting that the agent began executing the task described. For messages of type 'raw', success means the keystrokes were sent to the terminal.",
            "type": "boolean"
          }
        },
        "required": [
          "ok"
        ],
        "type": "object"
      },
      "MessageType": {
        "enum": [
          "raw",
          "user"
        ],
        "example": "user",
        "title": "MessageType",
        "type": "string"
      },
      "MessageUpdateBody": {
        "additionalProperties": false,
        "properties": {
          "id": {
            "description": "Unique identifier for the message. This identifier also represents the order of the message in the conversation history.",
            "format": "int64",
            "type": "integer"
          },
          "message": {
            "description": "Message content. The message is formatted as it appears in the agent's terminal session, meaning that, by default, it consists of lines of text with 80 characters per line.",
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/ConversationRole",
            "description": "Role of the message author"
          },
          "time": {
            "description": "Timestamp of the message",
            "format": "date-time",
            "type": "string"
          }
        },
        "required": [
          "id",
          "message",
          "role",
          "time"
        ],
        "type": "object"
      },
      "MessagesResponseBody": {
        "additionalProperties": false,
        "properties": {
          "$schema": {
            "description": "A URL to the JSON Schema for this object.",
            "example": "https://example.com/schemas/MessagesResponseBody.json",
            "format": "uri",
            "readOnly": true,
            "type": "string"
          },
          "messages": {
            "description": "List of messages",
            "items": {
              "$ref": "#/components/schemas/Message"
            },
            "type": "array"
          }
        },
        "required": [
          "messages"
        ],
        "type": "object"
      },
      "ScreenUpdateBody": {
        "additionalProperties": false,
        "properties": {
          "screen": {
            "type": "string"
          }
        },
        "required": [
          "screen"
        ],
        "type": "object"
      },
      "StatusChangeBody": {
        "additionalProperties": false,
        "properties": {
          "agent_type": {
            "description": "Type of the agent being used by the server.",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/AgentStatus",
            "description": "Agent status"
          }
        },
        "required": [
          "agent_type",
          "status"
        ],
        "type": "object"
      },
      "StatusResponseBody": {
        "additionalProperties": false,
        "properties": {
          "$schema": {
            "description": "A URL to the JSON Schema for this object.",
            "example": "https://example.com/schemas/StatusResponseBody.json",
            "format": "uri",
            "readOnly": true,
            "type": "string"
          },
          "agent_type": {
            "description": "Type of the agent being used by the server.",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/AgentStatus",
            "description": "Current agent status. 'running' means that the agent is processing a message, 'stable' means that the agent is idle and waiting for input."
          }
        },
        "required": [
          "agent_type",
          "status"
        ],
        "type": "object"
      },
      "UploadResponseBody": {
        "additionalProperties": false,
        "properties": {
          "$schema": {
            "description": "A URL to the JSON Schema for this object.",
            "example": "https://example.com/schemas/UploadResponseBody.json",
            "format": "uri",
            "readOnly": true,
            "type": "string"
          },
          "filePath": {
            "description": "Path of the file",
            "type": "string"
          },
          "ok": {
            "description": "Indicates whether the files were uploaded successfully.",
            "type": "boolean"
          }
        },
        "required": [
          "filePath",
          "ok"
        ],
        "type": "object"
      },
      "AddAdminRequest": {
        "properties": {
          "workos_id": {
            "type": "string",
            "title": "Workos Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "workos_id",
          "email"
        ],
        "title": "AddAdminRequest"
      },
      "AdminInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "email": {
            "type": "string",
            "title": "Email"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "created_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By"
          }
        },
        "type": "object",
        "required": [
          "id",
          "email",
          "created_at"
        ],
        "title": "AdminInfo"
      },
      "AdminListResponse": {
        "properties": {
          "admins": {
            "items": {
              "$ref": "#/components/schemas/AdminInfo"
            },
            "type": "array",
            "title": "Admins"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "admins",
          "count"
        ],
        "title": "AdminListResponse"
      },
      "AdminResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "default": "success"
          },
          "email": {
            "type": "string",
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "AdminResponse"
      },
      "AuditEntry": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "org_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Org Id"
          },
          "action": {
            "type": "string",
            "title": "Action"
          },
          "resource": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource"
          },
          "resource_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resource Id"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "id",
          "timestamp",
          "action"
        ],
        "title": "AuditEntry"
      },
      "AuditLogResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/AuditEntry"
            },
            "type": "array",
            "title": "Entries"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "entries",
          "count",
          "limit",
          "offset"
        ],
        "title": "AuditLogResponse"
      },
      "ChatCompletionChoice-Input": {
        "properties": {
          "index": {
            "type": "integer",
            "title": "Index"
          },
          "message": {
            "$ref": "#/components/schemas/ChatMessage"
          },
          "finish_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finish Reason"
          }
        },
        "type": "object",
        "required": [
          "index",
          "message"
        ],
        "title": "ChatCompletionChoice"
      },
      "ChatCompletionChoice-Output": {
        "properties": {
          "index": {
            "type": "integer",
            "title": "Index"
          },
          "message": {
            "$ref": "#/components/schemas/ChatMessage"
          },
          "finish_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finish Reason"
          }
        },
        "type": "object",
        "required": [
          "index",
          "message"
        ],
        "title": "ChatCompletionChoice"
      },
      "ChatCompletionRequest": {
        "properties": {
          "model": {
            "type": "string",
            "title": "Model"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            },
            "type": "array",
            "title": "Messages"
          },
          "temperature": {
            "type": "number",
            "maximum": 2.0,
            "minimum": 0.0,
            "title": "Temperature",
            "default": 0.7
          },
          "max_tokens": {
            "type": "integer",
            "maximum": 4000.0,
            "minimum": 1.0,
            "title": "Max Tokens",
            "default": 4000
          },
          "top_p": {
            "type": "number",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Top P",
            "default": 1.0
          },
          "stream": {
            "type": "boolean",
            "title": "Stream",
            "default": false
          },
          "user": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User"
          },
          "system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Prompt"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          }
        },
        "type": "object",
        "required": [
          "model",
          "messages"
        ],
        "title": "ChatCompletionRequest"
      },
      "ChatCompletionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "object": {
            "type": "string",
            "title": "Object",
            "default": "chat.completion"
          },
          "created": {
            "type": "integer",
            "title": "Created"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "choices": {
            "items": {
              "$ref": "#/components/schemas/ChatCompletionChoice-Output"
            },
            "type": "array",
            "title": "Choices"
          },
          "usage": {
            "$ref": "#/components/schemas/UsageInfo"
          },
          "system_fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Fingerprint"
          }
        },
        "type": "object",
        "required": [
          "id",
          "created",
          "model",
          "choices",
          "usage"
        ],
        "title": "ChatCompletionResponse"
      },
      "ChatMessage": {
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "system",
              "user",
              "assistant",
              "tool"
            ],
            "title": "Role"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/MessageContentText"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "type": "array"
              }
            ],
            "title": "Content"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "role",
          "content"
        ],
        "title": "ChatMessage"
      },
      "ChatMessageModel": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "message_index": {
            "type": "integer",
            "title": "Message Index"
          },
          "role": {
            "type": "string",
            "title": "Role"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "tokens": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tokens"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "message_index",
          "role",
          "content",
          "created_at"
        ],
        "title": "ChatMessageModel"
      },
      "ChatSessionDetailResponse": {
        "properties": {
          "session": {
            "$ref": "#/components/schemas/ChatSessionSummary"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessageModel"
            },
            "type": "array",
            "title": "Messages"
          }
        },
        "type": "object",
        "required": [
          "session",
          "messages"
        ],
        "title": "ChatSessionDetailResponse"
      },
      "ChatSessionListResponse": {
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/ChatSessionSummary"
            },
            "type": "array",
            "title": "Sessions"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "sessions",
          "total",
          "page",
          "page_size",
          "has_more"
        ],
        "title": "ChatSessionListResponse"
      },
      "ChatSessionSummary": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "user_id": {
            "type": "string",
            "format": "uuid",
            "title": "User Id"
          },
          "organization_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization Id"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "agent_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Type"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "last_message_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Message At"
          },
          "message_count": {
            "type": "integer",
            "title": "Message Count",
            "default": 0
          },
          "tokens_in": {
            "type": "integer",
            "title": "Tokens In",
            "default": 0
          },
          "tokens_out": {
            "type": "integer",
            "title": "Tokens Out",
            "default": 0
          },
          "tokens_total": {
            "type": "integer",
            "title": "Tokens Total",
            "default": 0
          },
          "metadata": {
            "additionalProperties": true,
            "type": "object",
            "title": "Metadata"
          },
          "archived": {
            "type": "boolean",
            "title": "Archived",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "created_at",
          "updated_at"
        ],
        "title": "ChatSessionSummary"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "MCPConfiguration": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "const": "http",
            "title": "Type",
            "default": "http"
          },
          "endpoint": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Endpoint"
          },
          "auth_type": {
            "type": "string",
            "enum": [
              "none",
              "bearer",
              "oauth"
            ],
            "title": "Auth Type",
            "default": "none"
          },
          "bearer_token_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bearer Token Id"
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": true
          },
          "metadata": {
            "$ref": "#/components/schemas/MCPMetadata"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "scope": {
            "$ref": "#/components/schemas/MCPScope"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "endpoint",
          "scope"
        ],
        "title": "MCPConfiguration"
      },
      "MCPCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "type": {
            "type": "string",
            "const": "http",
            "title": "Type",
            "default": "http"
          },
          "endpoint": {
            "type": "string",
            "maxLength": 2083,
            "minLength": 1,
            "format": "uri",
            "title": "Endpoint"
          },
          "auth_type": {
            "type": "string",
            "enum": [
              "none",
              "bearer",
              "oauth"
            ],
            "title": "Auth Type",
            "default": "none"
          },
          "bearer_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bearer Token"
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider"
          },
          "enabled": {
            "type": "boolean",
            "title": "Enabled",
            "default": true
          },
          "metadata": {
            "$ref": "#/components/schemas/MCPMetadata"
          },
          "scope": {
            "$ref": "#/components/schemas/MCPScope"
          }
        },
        "type": "object",
        "required": [
          "name",
          "endpoint",
          "scope"
        ],
        "title": "MCPCreateRequest"
      },
      "MCPListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/MCPConfiguration"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "items"
        ],
        "title": "MCPListResponse"
      },
      "MCPMetadata": {
        "properties": {
          "args": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Args"
          },
          "env": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Env"
          }
        },
        "type": "object",
        "title": "MCPMetadata"
      },
      "MCPScope": {
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "platform",
              "organization",
              "user"
            ],
            "title": "Type"
          },
          "organization_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Organization Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "type": "object",
        "required": [
          "type"
        ],
        "title": "MCPScope"
      },
      "MCPUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "type": {
            "anyOf": [
              {
                "type": "string",
                "const": "http"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          },
          "endpoint": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2083,
                "minLength": 1,
                "format": "uri"
              },
              {
                "type": "null"
              }
            ],
            "title": "Endpoint"
          },
          "auth_type": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "none",
                  "bearer",
                  "oauth"
                ]
              },
              {
                "type": "null"
              }
            ],
            "title": "Auth Type"
          },
          "bearer_token": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bearer Token"
          },
          "oauth_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Oauth Provider"
          },
          "enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Enabled"
          },
          "metadata": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/MCPMetadata"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "title": "MCPUpdateRequest"
      },
      "MessageContentText": {
        "properties": {
          "type": {
            "type": "string",
            "const": "text",
            "title": "Type",
            "default": "text"
          },
          "text": {
            "type": "string",
            "title": "Text"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "MessageContentText"
      },
      "ModelInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "object": {
            "type": "string",
            "title": "Object",
            "default": "model"
          },
          "owned_by": {
            "type": "string",
            "title": "Owned By"
          },
          "created": {
            "type": "integer",
            "title": "Created"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "context_length": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Length"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider"
          },
          "capabilities": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Capabilities"
          }
        },
        "type": "object",
        "required": [
          "id",
          "owned_by"
        ],
        "title": "ModelInfo"
      },
      "ModelListResponse": {
        "properties": {
          "data": {
            "items": {
              "$ref": "#/components/schemas/ModelInfo"
            },
            "type": "array",
            "title": "Data"
          },
          "object": {
            "type": "string",
            "title": "Object",
            "default": "list"
          }
        },
        "type": "object",
        "required": [
          "data"
        ],
        "title": "ModelListResponse"
      },
      "PlatformStats": {
        "properties": {
          "total_users": {
            "type": "integer",
            "title": "Total Users",
            "default": 0
          },
          "active_users": {
            "type": "integer",
            "title": "Active Users",
            "default": 0
          },
          "total_organizations": {
            "type": "integer",
            "title": "Total Organizations",
            "default": 0
          },
          "total_requests": {
            "type": "integer",
            "title": "Total Requests",
            "default": 0
          },
          "requests_today": {
            "type": "integer",
            "title": "Requests Today",
            "default": 0
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "default": 0
          },
          "tokens_today": {
            "type": "integer",
            "title": "Tokens Today",
            "default": 0
          },
          "total_mcp_servers": {
            "type": "integer",
            "title": "Total Mcp Servers",
            "default": 0
          },
          "system_health": {
            "$ref": "#/components/schemas/SystemHealth"
          }
        },
        "type": "object",
        "title": "PlatformStats"
      },
      "SystemHealth": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status",
            "default": "healthy"
          },
          "circuit_breaker_status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Circuit Breaker Status"
          },
          "active_agents": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Active Agents"
          }
        },
        "type": "object",
        "title": "SystemHealth"
      },
      "UsageInfo": {
        "properties": {
          "prompt_tokens": {
            "type": "integer",
            "title": "Prompt Tokens",
            "default": 0
          },
          "completion_tokens": {
            "type": "integer",
            "title": "Completion Tokens",
            "default": 0
          },
          "total_tokens": {
            "type": "integer",
            "title": "Total Tokens",
            "default": 0
          }
        },
        "type": "object",
        "title": "UsageInfo"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}