# ==============================================================================
# AgentAPI Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env with actual secrets to version control!
# ==============================================================================

# ==============================================================================
# WorkOS / AuthKit Authentication Configuration
# ==============================================================================
# Required for JWT-based authentication and authorization
# Get these from: https://dashboard.workos.com/

# WorkOS API Key (required)
# Type: string
# Required: yes
# Example: sk_live_1234567890abcdef1234567890abcdef
WORKOS_API_KEY=your-workos-api-key-here

# WorkOS Client ID (required)
# Type: string
# Required: yes
# Example: client_1234567890abcdef
WORKOS_CLIENT_ID=your-workos-client-id-here

# AuthKit JWKS URL for JWT verification (required)
# Type: string (URL)
# Required: yes
# Example: https://api.workos.com/sso/jwks/{your-client-id}
AUTHKIT_JWKS_URL=https://api.workos.com/sso/jwks/your-client-id

# JWT Token Issuer for validation (optional)
# Type: string
# Required: no
# Default: https://api.workos.com
AUTHKIT_ISSUER=https://api.workos.com

# JWT Token Audience for validation (optional)
# Type: string
# Required: no
# Default: your WorkOS Client ID
AUTHKIT_AUDIENCE=

# ==============================================================================
# CCRouter Agent Configuration
# ==============================================================================
# CCRouter provides multi-model routing via VertexAI and other providers

# Path to CCRouter binary (required if using CCRouter agent)
# Type: string (file path)
# Required: conditional (yes if using ccrouter agent)
# Default: /usr/local/bin/ccr
# Example: /opt/homebrew/bin/ccr or ~/.local/bin/ccr
CCROUTER_PATH=/usr/local/bin/ccr

# CCRouter execution timeout in seconds (optional)
# Type: int
# Required: no
# Default: 300 (5 minutes)
# Range: 30-600
CCROUTER_TIMEOUT=300

# ==============================================================================
# Droid Agent Configuration
# ==============================================================================
# Droid provides access to 14+ AI models via OpenRouter and direct APIs

# Path to Droid binary (required if using Droid agent)
# Type: string (file path)
# Required: conditional (yes if using droid agent)
# Default: ~/.droid/bin/droid
# Example: /usr/local/bin/droid or ~/bin/droid
DROID_PATH=~/.droid/bin/droid

# Droid execution timeout in seconds (optional)
# Type: int
# Required: no
# Default: 300 (5 minutes)
# Range: 30-600
DROID_TIMEOUT=300

# ==============================================================================
# Chat & Completion Configuration
# ==============================================================================

# Maximum tokens for chat completions (optional)
# Type: int
# Required: no
# Default: 4096
# Range: 1-8192 (model dependent)
CHAT_MAX_TOKENS=4096

# Default temperature for chat completions (optional)
# Type: float
# Required: no
# Default: 0.7
# Range: 0.0-2.0
CHAT_DEFAULT_TEMPERATURE=0.7

# Chat operation timeout in seconds (optional)
# Type: int
# Required: no
# Default: 120 (2 minutes)
CHAT_TIMEOUT=120

# ==============================================================================
# Default Agent Selection
# ==============================================================================

# Default agent to use when not specified (optional)
# Type: string (enum)
# Required: no
# Default: claude
# Options: claude, goose, aider, codex, gemini, copilot, amp, cursor, auggie,
#          amazonq, opencode, warp, droid, ccrouter, custom
DEFAULT_AGENT=claude

# Enable fallback to alternative agents on failure (optional)
# Type: bool
# Required: no
# Default: false
AGENT_FALLBACK_ENABLED=false

# Fallback agent order (comma-separated, optional)
# Type: string (comma-separated list)
# Required: no
# Default: claude,droid,ccrouter
AGENT_FALLBACK_ORDER=claude,droid,ccrouter

# ==============================================================================
# API Server Configuration
# ==============================================================================

# Port for AgentAPI HTTP server (optional)
# Type: int
# Required: no
# Default: 3284
# Range: 1024-65535
AGENTAPI_PORT=3284

# Host for AgentAPI HTTP server (optional)
# Type: string
# Required: no
# Default: localhost
AGENTAPI_HOST=localhost

# Environment (optional)
# Type: string (enum)
# Required: no
# Default: development
# Options: development, staging, production
AGENTAPI_ENVIRONMENT=development

# Allowed hosts (hostnames only, no ports) (optional)
# Type: string (space-separated list)
# Required: no
# Default: localhost 127.0.0.1 [::1]
# Use '*' for all hosts
AGENTAPI_ALLOWED_HOSTS=localhost 127.0.0.1 [::1]

# Allowed CORS origins (optional)
# Type: string (space-separated list)
# Required: no
# Default: http://localhost:3284 http://localhost:3000 http://localhost:3001
# Use '*' for all origins
AGENTAPI_ALLOWED_ORIGINS=http://localhost:3284 http://localhost:3000 http://localhost:3001

# ==============================================================================
# Database Configuration
# ==============================================================================

# PostgreSQL Database URL (required)
# Type: string (connection URL)
# Required: yes
# Format: postgresql://user:password@host:port/database?sslmode=require
# Example: postgresql://agentapi:password@localhost:5432/agentapi?sslmode=disable
DATABASE_URL=postgresql://agentapi:password@localhost:5432/agentapi?sslmode=disable

# Database connection pool size (optional)
# Type: int
# Required: no
# Default: 10
DATABASE_POOL_SIZE=10

# Database connection timeout in seconds (optional)
# Type: int
# Required: no
# Default: 5
DATABASE_TIMEOUT=5

# ==============================================================================
# Redis Configuration (Cache & Session Storage)
# ==============================================================================

# Redis connection URL (required)
# Type: string (connection URL)
# Required: yes
# Format: redis://[user:password@]host:port[/database]
# Example: redis://localhost:6379/0
# Example (Upstash): rediss://default:password@endpoint.upstash.io:6379
REDIS_URL=redis://localhost:6379/0

# Enable Redis features (optional)
# Type: bool
# Required: no
# Default: true
REDIS_ENABLE=true

# Redis protocol (optional)
# Type: string (enum)
# Required: no
# Default: native
# Options: native, rest
REDIS_PROTOCOL=native

# Redis connection pool size (optional)
# Type: int
# Required: no
# Default: 10
REDIS_MAX_POOL_SIZE=10

# Redis connection timeout (optional)
# Type: string (duration)
# Required: no
# Default: 5s
REDIS_CONNECTION_TIMEOUT=5s

# ==============================================================================
# Upstash Redis (Optional - for serverless/edge deployments)
# ==============================================================================

# Upstash Redis REST URL (optional)
# Type: string (URL)
# Required: no (only if using Upstash REST protocol)
# Get from: https://console.upstash.com
UPSTASH_REDIS_REST_URL=

# Upstash Redis REST Token (optional)
# Type: string
# Required: no (only if using Upstash REST protocol)
UPSTASH_REDIS_REST_TOKEN=

# ==============================================================================
# Rate Limiting Configuration
# ==============================================================================

# Enable rate limiting (optional)
# Type: bool
# Required: no
# Default: true
RATE_LIMIT_ENABLED=true

# Rate limit requests per minute per user (optional)
# Type: int
# Required: no
# Default: 60
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Rate limit burst size (optional)
# Type: int
# Required: no
# Default: 10
RATE_LIMIT_BURST_SIZE=10

# ==============================================================================
# Circuit Breaker Configuration
# ==============================================================================

# Enable circuit breaker for resilience (optional)
# Type: bool
# Required: no
# Default: true
CIRCUIT_BREAKER_ENABLED=true

# Circuit breaker failure threshold (optional)
# Type: int
# Required: no
# Default: 5
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Circuit breaker success threshold to close (optional)
# Type: int
# Required: no
# Default: 2
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2

# Circuit breaker timeout (optional)
# Type: string (duration)
# Required: no
# Default: 30s
CIRCUIT_BREAKER_TIMEOUT=30s

# ==============================================================================
# Session Storage Configuration
# ==============================================================================

# Session storage backend (optional)
# Type: string (enum)
# Required: no
# Default: redis
# Options: redis, memory
SESSION_STORAGE=redis

# Session TTL (time to live) (optional)
# Type: string (duration)
# Required: no
# Default: 3600s (1 hour)
SESSION_TTL=3600s

# Session cleanup interval (optional)
# Type: string (duration)
# Required: no
# Default: 300s (5 minutes)
SESSION_CLEANUP_INTERVAL=300s

# ==============================================================================
# Security & Encryption
# ==============================================================================

# Token encryption key (required for production)
# Type: string (hex)
# Required: yes (in production)
# Generate with: openssl rand -hex 32
TOKEN_ENCRYPTION_KEY=

# JWT secret for signing (required)
# Type: string
# Required: yes
# Generate with: openssl rand -base64 32
JWT_SECRET=

# Session secret for session encryption (required)
# Type: string
# Required: yes
# Generate with: openssl rand -base64 32
SESSION_SECRET=

# ==============================================================================
# Logging Configuration
# ==============================================================================

# Log level (optional)
# Type: string (enum)
# Required: no
# Default: info
# Options: debug, info, warn, error
LOG_LEVEL=info

# Log format (optional)
# Type: string (enum)
# Required: no
# Default: json
# Options: json, text
LOG_FORMAT=json

# ==============================================================================
# AI Provider API Keys
# ==============================================================================

# Anthropic API Key (required for Claude models)
# Type: string
# Required: conditional (yes if using Claude)
# Get from: https://console.anthropic.com
ANTHROPIC_API_KEY=

# OpenAI API Key (optional)
# Type: string
# Required: conditional (yes if using OpenAI models)
# Get from: https://platform.openai.com
OPENAI_API_KEY=

# Google Cloud / Vertex AI Configuration (optional)
# Type: string
# Required: conditional (yes if using VertexAI/Gemini)
VERTEX_AI_PROJECT_ID=
VERTEX_AI_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ==============================================================================
# Feature Flags
# ==============================================================================

# Enable Prometheus metrics endpoint (optional)
# Type: bool
# Required: no
# Default: true
ENABLE_METRICS=true

# Enable distributed tracing (optional)
# Type: bool
# Required: no
# Default: false
ENABLE_TRACING=false

# Enable audit logging (optional)
# Type: bool
# Required: no
# Default: true
ENABLE_AUDIT_LOGGING=true

# Enable health check endpoints (optional)
# Type: bool
# Required: no
# Default: true
ENABLE_HEALTH_CHECKS=true

# ==============================================================================
# Performance & Tuning
# ==============================================================================

# Maximum concurrent requests (optional)
# Type: int
# Required: no
# Default: 100
MAX_CONCURRENT_REQUESTS=100

# General request timeout in seconds (optional)
# Type: int
# Required: no
# Default: 300 (5 minutes)
REQUEST_TIMEOUT=300

# WebSocket connection timeout in seconds (optional)
# Type: int
# Required: no
# Default: 3600 (1 hour)
WEBSOCKET_TIMEOUT=3600

# ==============================================================================
# Monitoring & Observability
# ==============================================================================

# Metrics server port (optional)
# Type: int
# Required: no
# Default: 9090
METRICS_PORT=9090

# Metrics endpoint path (optional)
# Type: string
# Required: no
# Default: /metrics
METRICS_PATH=/metrics

# Health check endpoint path (optional)
# Type: string
# Required: no
# Default: /health
HEALTH_CHECK_PATH=/health

# Sentry DSN for error tracking (optional)
# Type: string (DSN URL)
# Required: no
# Get from: https://sentry.io
SENTRY_DSN=

# ==============================================================================
# MCP (Model Context Protocol) Configuration
# ==============================================================================

# Enable MCP server support (optional)
# Type: bool
# Required: no
# Default: false
MCP_ENABLED=false

# MCP server port (optional)
# Type: int
# Required: no
# Default: 3285
MCP_PORT=3285

# ==============================================================================
# Development & Debug Settings
# ==============================================================================

# Enable debug mode (optional)
# Type: bool
# Required: no
# Default: false
DEBUG=false

# Enable hot reload (optional)
# Type: bool
# Required: no
# Default: false
HOT_RELOAD=false

# Pretty print JSON responses (optional)
# Type: bool
# Required: no
# Default: false (true in development)
PRETTY_PRINT_JSON=false
