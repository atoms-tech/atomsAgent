# ==============================================================================
# AgentAPI Development Environment Configuration
# ==============================================================================
# This file contains development-specific settings for local testing
# Copy to .env for local development and customize as needed
# ==============================================================================

# ==============================================================================
# WorkOS / AuthKit Configuration (Development)
# ==============================================================================
# For local development, use WorkOS test environment credentials
# Create a test environment at: https://dashboard.workos.com/

WORKOS_API_KEY=sk_test_your_test_api_key_here
WORKOS_CLIENT_ID=client_test_your_client_id_here

# Development JWKS URL (test environment)
AUTHKIT_JWKS_URL=https://api.workos.com/sso/jwks/client_test_your_client_id_here

# Optional: Use localhost for testing
# AUTHKIT_JWKS_URL=http://localhost:8080/.well-known/jwks.json

AUTHKIT_ISSUER=https://api.workos.com
AUTHKIT_AUDIENCE=

# ==============================================================================
# CCRouter Configuration (Development)
# ==============================================================================
# Assumes ccr is installed via Homebrew on macOS or in local bin

# macOS (Homebrew)
CCROUTER_PATH=/opt/homebrew/bin/ccr

# Alternative paths:
# Linux: /usr/local/bin/ccr
# Custom install: ~/.local/bin/ccr

# Shorter timeout for faster feedback during development
CCROUTER_TIMEOUT=60

# ==============================================================================
# Droid Configuration (Development)
# ==============================================================================
# Default Droid installation path

DROID_PATH=~/.droid/bin/droid

# Alternative paths:
# Homebrew: /opt/homebrew/bin/droid
# System: /usr/local/bin/droid

# Shorter timeout for development
DROID_TIMEOUT=60

# ==============================================================================
# Chat Configuration (Development)
# ==============================================================================

CHAT_MAX_TOKENS=2048
CHAT_DEFAULT_TEMPERATURE=0.7
CHAT_TIMEOUT=60

# ==============================================================================
# Agent Selection (Development)
# ==============================================================================

DEFAULT_AGENT=claude
AGENT_FALLBACK_ENABLED=true
AGENT_FALLBACK_ORDER=claude,droid,ccrouter

# ==============================================================================
# API Server Configuration (Development)
# ==============================================================================

AGENTAPI_PORT=3284
AGENTAPI_HOST=localhost
AGENTAPI_ENVIRONMENT=development

# Allow all localhost variants
AGENTAPI_ALLOWED_HOSTS=localhost 127.0.0.1 [::1]

# Allow common development ports
AGENTAPI_ALLOWED_ORIGINS=http://localhost:3284 http://localhost:3000 http://localhost:3001 http://localhost:5173 http://localhost:8080

# ==============================================================================
# Database Configuration (Development)
# ==============================================================================

# Local PostgreSQL (no SSL for dev)
DATABASE_URL=postgresql://agentapi:agentapi_dev_pass@localhost:5432/agentapi_dev?sslmode=disable

DATABASE_POOL_SIZE=5
DATABASE_TIMEOUT=10

# ==============================================================================
# Redis Configuration (Development)
# ==============================================================================

# Local Redis instance (no password)
REDIS_URL=redis://localhost:6379/0

REDIS_ENABLE=true
REDIS_PROTOCOL=native
REDIS_MAX_POOL_SIZE=5
REDIS_CONNECTION_TIMEOUT=10s

# Upstash not needed for local dev (leave blank)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ==============================================================================
# Rate Limiting (Development - Relaxed)
# ==============================================================================

# Disabled or very permissive for development
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# ==============================================================================
# Circuit Breaker (Development - Disabled)
# ==============================================================================

# Disable for easier debugging
CIRCUIT_BREAKER_ENABLED=false
CIRCUIT_BREAKER_FAILURE_THRESHOLD=10
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT=10s

# ==============================================================================
# Session Storage (Development)
# ==============================================================================

SESSION_STORAGE=redis
SESSION_TTL=7200s
SESSION_CLEANUP_INTERVAL=600s

# ==============================================================================
# Security & Encryption (Development)
# ==============================================================================

# Development-only keys (DO NOT USE IN PRODUCTION)
TOKEN_ENCRYPTION_KEY=dev_token_encryption_key_32_chars_minimum_length_required
JWT_SECRET=dev_jwt_secret_for_local_testing_only
SESSION_SECRET=dev_session_secret_for_local_testing_only

# ==============================================================================
# Logging Configuration (Development - Verbose)
# ==============================================================================

# Debug level for maximum verbosity
LOG_LEVEL=debug

# Text format is more readable during development
LOG_FORMAT=text

# ==============================================================================
# AI Provider API Keys (Development)
# ==============================================================================

# Add your development/test API keys here
ANTHROPIC_API_KEY=sk-ant-api03-your-dev-key-here
OPENAI_API_KEY=sk-your-openai-dev-key-here

# Vertex AI (if testing Google models)
VERTEX_AI_PROJECT_ID=your-dev-project-id
VERTEX_AI_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=~/.config/gcloud/application_default_credentials.json

# ==============================================================================
# Feature Flags (Development - All Enabled)
# ==============================================================================

ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_AUDIT_LOGGING=true
ENABLE_HEALTH_CHECKS=true

# ==============================================================================
# Performance & Tuning (Development - Relaxed)
# ==============================================================================

MAX_CONCURRENT_REQUESTS=50
REQUEST_TIMEOUT=300
WEBSOCKET_TIMEOUT=1800

# ==============================================================================
# Monitoring & Observability (Development)
# ==============================================================================

METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health

# Sentry disabled for development (or use dev DSN)
SENTRY_DSN=

# ==============================================================================
# MCP Configuration (Development)
# ==============================================================================

MCP_ENABLED=true
MCP_PORT=3285

# ==============================================================================
# Development & Debug Settings
# ==============================================================================

DEBUG=true
HOT_RELOAD=true
PRETTY_PRINT_JSON=true

# ==============================================================================
# Additional Development Variables
# ==============================================================================

# Disable SSL verification for local testing (NEVER use in production)
# SSL_VERIFY=false

# Enable verbose HTTP logging
# HTTP_DEBUG=true

# Mock external services for offline development
# MOCK_EXTERNAL_SERVICES=false

# Development-specific feature toggles
# ENABLE_EXPERIMENTAL_FEATURES=true
# SKIP_AUTH_FOR_PATHS=/health,/metrics,/debug
